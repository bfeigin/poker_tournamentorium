#header
  %h1 Table #{@game_table.id}
#content
  .tabbable.tabs-left
    %ul.nav.nav-tabs
      - @game_table.hands.order(:id).each_with_index do |hand, i|
        %li
          %a{:"data-toggle" => "tab", :href => "#l#{i+1}"} Hand #{i+1}
    .tab-content
      - @game_table.hands.order(:id).each_with_index do |hand, i|
        .tab-pane{:id => "l#{i+1}"}
          %h2 Hand ##{i+1}
          - hand.rounds.each do |round|
            .well
              %h3
                = round.betting_phase.titleize
                - if round.betting_phase.to_s != "pre_flop"
                  %span.dealt #{hand.cards.where(:label => round.betting_phase.to_s).collect { |c| build_card(c.value_code.to_s, c.suit_code.to_s) }.join(" ")}
              - round.actions.order(:id).each do |action|
                .play
                  %span.name.label= action.player.name.chomp
                  = action.player.cards.where(:hand_id => hand.id).collect { |c| build_card(c.value_code.to_s, c.suit_code.to_s) }.join("")
                  - if action.is_fold?
                    folded.
                  - elsif action.is_blind?
                    posted blinds of #{action.amount}.
                  - elsif action.is_win?
                    won #{action.amount}!
                  - elsif action.is_unseat?
                    was unseated from the table.
                  - else
                    - if action.amount == 0
                      checked.
                    - else
                      bet #{action.amount}.
